<!DOCTYPE html>  
<html>  
<head>  
<meta charset="UTF-8">  
<title>メッセージングのサンプル</title>  
<script type="text/javascript">  
var MYORIGIN = location.protocol + "//" + location.host;  
function init() {  
var iframe = document.getElementsByTagName("iframe")[0];  
setInterval(function() {  
var date = new Date();  
var dateStr =  
date.getFullYear() + "/" + (date.getMonth() + 1) + "/" + date.getDate() +  
" " + date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds();  
var number = Math.floor(Math.random() * 100);  
var json = '{date: "' + dateStr + '", number: "' + number + '"}';  
iframe.contentWindow.postMessage(json , MYORIGIN);  
document.getElementById("msg").innerHTML = dateStr + "," + number;  
}, 1000);  
}  
</script>  
<body onload="init()">  
<div id="msg"></div>  
<iframe src="sub2.html" width="500" height="200"></iframe>  
</body>  
</html>  